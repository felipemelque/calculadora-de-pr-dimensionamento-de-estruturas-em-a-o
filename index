<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pré-dimensionamento de Perfis Estruturais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #F5F8F7;
            color: #296885;
        }
        h1, h2 {
            font-family: 'Playfair Display', serif;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">

    <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl p-6 sm:p-8 lg:p-10 border border-[#88CDD5]">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-[#296885] mb-6 sm:mb-8">
            Pré-dimensionamento de Perfis de Aço
        </h1>
        <p class="text-center text-gray-500 mb-8 sm:mb-10">
            Uma ferramenta conceitual para a seleção inicial de perfis para vigas e pilares, baseada em diretrizes de projeto.
        </p>

        <!-- Nota de Cargas Adicionais -->
        <div class="p-4 bg-gray-100 rounded-md mb-8 sm:mb-10 text-center">
            <p class="text-sm text-gray-700">
                Aviso: As cargas de lajes, coberturas e fachadas devem ser calculadas separadamente e somadas às cargas permanentes e acidentais no cálculo.
            </p>
        </div>

        <!-- Seção de Entrada de Dados -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-8 sm:mb-10">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    Tipo de Elemento Estrutural
                </label>
                <div class="flex items-center space-x-4">
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="elemento" value="viga" class="h-4 w-4 text-[#296885] focus:ring-[#3788A8] border-gray-300" checked>
                        <span class="ml-2 text-gray-700">Viga</span>
                    </label>
                    <label class="flex items-center cursor-pointer">
                        <input type="radio" name="elemento" value="pilar" class="h-4 w-4 text-[#296885] focus:ring-[#3788A8] border-gray-300">
                        <span class="ml-2 text-gray-700">Pilar</span>
                    </label>
                </div>
            </div>

            <div>
                <label for="comprimento" class="block text-sm font-medium text-gray-700 mb-2">
                    <span id="label-comprimento">Vão (m)</span>
                </label>
                <input type="number" id="comprimento" placeholder="Ex: 6.0" min="1" step="0.1" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
            </div>

            <div>
                <label for="cargas" class="block text-sm font-medium text-gray-700 mb-2">
                    Número de Pavimentos Suportados
                </label>
                <input type="number" id="cargas" placeholder="Ex: 1 ou 2" min="1" step="1" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
            </div>

            <div>
                <label for="tipoCarga" class="block text-sm font-medium text-gray-700 mb-2">
                    Carga Admissível por Área
                </label>
                <select id="tipoCarga" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
                    <option value="predio_residencial">Cargas de um Edifício Residencial (3.0 kN/m²)</option>
                    <option value="predio_escritorio">Cargas de um Edifício de Escritórios (5.0 kN/m²)</option>
                    <option value="cobertura">Cargas de Cobertura (1.5 kN/m²)</option>
                </select>
            </div>
            
            <div>
                <label for="cargaLaje" class="block text-sm font-medium text-gray-700 mb-2">
                    Carga da Laje (kN/m²)
                </label>
                <input type="number" id="cargaLaje" placeholder="Ex: 2.0" min="0" step="0.1" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
            </div>

            <div>
                <label for="pesoProprio" class="block text-sm font-medium text-gray-700 mb-2">
                    Peso Próprio (kN/m)
                </label>
                <input type="number" id="pesoProprio" placeholder="Ex: 0.5" min="0" step="0.1" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
            </div>

            <div id="area-influencia-pilar-container" class="hidden">
                <label for="areaInfluenciaPilar" class="block text-sm font-medium text-gray-700 mb-2">
                    Área de Influência do Pilar (m²)
                </label>
                <input type="number" id="areaInfluenciaPilar" placeholder="Ex: 16.0" min="0" step="0.1" class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[#3788A8] focus:ring-[#3788A8] transition duration-150 ease-in-out p-2.5">
            </div>

        </div>

        <div class="flex justify-center">
            <button onclick="calcular()" class="w-full md:w-auto px-8 py-3 bg-[#296885] text-white font-bold rounded-lg shadow-md hover:bg-[#3788A8] transition duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#3788A8]">
                Calcular
            </button>
        </div>

        <!-- Seção de Resultados -->
        <div id="resultados" class="mt-10 sm:mt-12">
            <h2 class="text-2xl font-bold text-[#3788A8] text-center mb-6">Resultados Recomendados</h2>
            <div id="lista-perfis" class="space-y-6">
                <!-- Os perfis recomendados serão inseridos aqui via JavaScript -->
            </div>
        </div>

        <!-- Glossário de Termos e Unidades -->
        <div class="mt-10 sm:mt-12 p-6 bg-gray-100 rounded-lg">
            <h2 class="text-xl font-bold text-[#3788A8] mb-4">Glossário de Termos e Unidades</h2>
            <ul class="text-sm space-y-2 text-gray-700">
                <li><span class="font-bold">kN/m²:</span> Kilonewtons por metro quadrado (unidade de carga de superfície).</li>
                <li><span class="font-bold">m:</span> Metros (unidade de comprimento).</li>
                <li><span class="font-bold">kg/m:</span> Quilogramas por metro (unidade de peso linear).</li>
                <li><span class="font-bold">mm:</span> Milímetros (unidade de comprimento).</li>
                <li><span class="font-bold">cm⁴:</span> Centímetros à quarta potência (unidade de momento de inércia, propriedade geométrica da seção).</li>
                <li><span class="font-bold">kN.m:</span> Kilonewton metro (unidade de momento fletor).</li>
                <li><span class="font-bold">W:</span> Perfil de aço com abas largas (Wide Flange), também conhecido como Perfil I.</li>
                <li><span class="font-bold">TS:</span> Perfil Tubular Estrutural.</li>
                <li><span class="font-bold">RHS:</span> Seção Oca Retangular (Rectangular Hollow Section).</li>
                <li><span class="font-bold">CHS:</span> Seção Oca Circular (Circular Hollow Section).</li>
            </ul>
        </div>
    </div>

    <script>
        // Dados de perfis simplificados com base em perfis Gerdau e informações da NBR 8800:2008.
        // Estes dados são ilustrativos e não representam o catálogo completo.
        const perfis = [
            // Perfis W (Wide Flange)
            { nome: 'W 200 x 31.3', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 31.3, altura_mm: 203, inercia_x_cm4: 2850, resistencia_mpa: 345, momento_fletor_kNm: 100, capacidade_carga_axial_kN: 1000, custo_estimado: 150.00 },
            { nome: 'W 250 x 38.5', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 38.5, altura_mm: 257, inercia_x_cm4: 5590, resistencia_mpa: 345, momento_fletor_kNm: 150, capacidade_carga_axial_kN: 1250, custo_estimado: 190.00 },
            { nome: 'W 310 x 38.7', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 38.7, altura_mm: 304, inercia_x_cm4: 8490, resistencia_mpa: 345, momento_fletor_kNm: 200, capacidade_carga_axial_kN: 1300, custo_estimado: 220.00 },
            { nome: 'W 360 x 57.8', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 57.8, altura_mm: 360, inercia_x_cm4: 15700, resistencia_mpa: 345, momento_fletor_kNm: 300, capacidade_carga_axial_kN: 1900, custo_estimado: 280.00 },
            { nome: 'W 410 x 60', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 60.0, altura_mm: 406, inercia_x_cm4: 21600, resistencia_mpa: 345, momento_fletor_kNm: 350, capacidade_carga_axial_kN: 2000, custo_estimado: 310.00 },
            { nome: 'W 530 x 74', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 74.0, altura_mm: 528, inercia_x_cm4: 43200, resistencia_mpa: 345, momento_fletor_kNm: 450, capacidade_carga_axial_kN: 2400, custo_estimado: 380.00 },
            { nome: 'W 610 x 113', fabricante: 'Gerdau', tipo_secao: 'W', peso_kg_m: 113.0, altura_mm: 607, inercia_x_cm4: 81200, resistencia_mpa: 345, momento_fletor_kNm: 600, capacidade_carga_axial_kN: 3700, custo_estimado: 550.00 },

            // Perfis Tubulares Retangulares (RHS)
            { nome: 'TS 150x100x4.8', fabricante: 'ArcelorMittal', tipo_secao: 'RHS', peso_kg_m: 16.2, dimensoes_mm: '150x100x4.8', inercia_x_cm4: 299, resistencia_mpa: 345, momento_fletor_kNm: 50, capacidade_carga_axial_kN: 550, custo_estimado: 120.00 },
            { nome: 'TS 200x150x6.4', fabricante: 'ArcelorMittal', tipo_secao: 'RHS', peso_kg_m: 31.6, dimensoes_mm: '200x150x6.4', inercia_x_cm4: 1100, resistencia_mpa: 345, momento_fletor_kNm: 120, capacidade_carga_axial_kN: 1100, custo_estimado: 210.00 },
            { nome: 'TS 250x150x8.0', fabricante: 'ArcelorMittal', tipo_secao: 'RHS', peso_kg_m: 43.1, dimensoes_mm: '250x150x8.0', inercia_x_cm4: 1980, resistencia_mpa: 345, momento_fletor_kNm: 200, capacidade_carga_axial_kN: 1500, custo_estimado: 280.00 },

            // Perfis Tubulares Circulares (CHS)
            { nome: 'TS 139.7x4.8', fabricante: 'ArcelorMittal', tipo_secao: 'CHS', peso_kg_m: 15.9, diametro_mm: 139.7, inercia_x_cm4: 216, resistencia_mpa: 345, momento_fletor_kNm: 40, capacidade_carga_axial_kN: 500, custo_estimado: 110.00 },
            { nome: 'TS 193.7x6.4', fabricante: 'ArcelorMittal', tipo_secao: 'CHS', peso_kg_m: 30.2, diametro_mm: 193.7, inercia_x_cm4: 765, resistencia_mpa: 345, momento_fletor_kNm: 100, capacidade_carga_axial_kN: 950, custo_estimado: 180.00 },
        ];
        
        // Exemplo de dados de carga simplificados com base em NBR 6120:2019
        const cargas_admissiveis = {
            "predio_residencial": 3.0, // kilonewtons por metro quadrado (kN/m²)
            "predio_escritorio": 5.0, // kilonewtons por metro quadrado (kN/m²)
            "cobertura": 1.5, // kilonewtons por metro quadrado (kN/m²)
        };

        // Função para atualizar o label e campos visíveis
        document.querySelectorAll('input[name="elemento"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const label = document.getElementById('label-comprimento');
                const areaInfluenciaContainer = document.getElementById('area-influencia-pilar-container');
                if (e.target.value === 'viga') {
                    label.textContent = 'Vão (m)';
                    areaInfluenciaContainer.classList.add('hidden');
                } else {
                    label.textContent = 'Altura (m)';
                    areaInfluenciaContainer.classList.remove('hidden');
                }
            });
        });

        // Função principal de cálculo
        function calcular() {
            const elemento = document.querySelector('input[name="elemento"]:checked').value;
            const comprimento = parseFloat(document.getElementById('comprimento').value);
            const numPavimentos = parseInt(document.getElementById('cargas').value) || 1;
            const tipoCarga = document.getElementById('tipoCarga').value;
            const cargaLaje = parseFloat(document.getElementById('cargaLaje').value) || 0;
            const pesoProprio = parseFloat(document.getElementById('pesoProprio').value) || 0;
            const areaInfluenciaPilar = parseFloat(document.getElementById('areaInfluenciaPilar').value) || 16.0;

            const listaPerfis = document.getElementById('lista-perfis');
            listaPerfis.innerHTML = ''; // Limpa os resultados anteriores

            if (!comprimento || comprimento <= 0) {
                listaPerfis.innerHTML = `<div class="bg-[#FDEFE9] border border-[#ED8168] text-[#ED8168] px-4 py-3 rounded-md text-center">
                    <p>Por favor, insira um valor válido para o vão ou altura.</p>
                </div>`;
                return;
            }

            let perfisRecomendados = [];

            if (elemento === 'viga') {
                // Lógica simplificada de dimensionamento para vigas
                const cargaPorArea = cargas_admissiveis[tipoCarga];
                const larguraInfluencia = 4.0; 
                const cargaTotalDistribuida = (cargaPorArea + cargaLaje) * larguraInfluencia + pesoProprio; 
                const momentoFletor = (cargaTotalDistribuida * Math.pow(comprimento, 2)) / 8; 

                perfisRecomendados = perfis.filter(p => p.momento_fletor_kNm > momentoFletor);

            } else if (elemento === 'pilar') {
                // Lógica simplificada de dimensionamento para pilares
                const cargaPorArea = cargas_admissiveis[tipoCarga];
                const cargaVerticalTotal = (cargaPorArea + cargaLaje) * areaInfluenciaPilar * numPavimentos; 
                const pesoProprioPilar = pesoProprio * comprimento; 
                const cargaAxialTotal = cargaVerticalTotal + pesoProprioPilar;

                perfisRecomendados = perfis.filter(p => p.capacidade_carga_axial_kN > cargaAxialTotal); 
            }

            if (perfisRecomendados.length > 0) {
                perfisRecomendados.sort((a, b) => a.peso_kg_m - b.peso_kg_m);

                perfisRecomendados.forEach((perfil, index) => {
                    let infoAdicional = '';
                    if (perfil.tipo_secao === 'W') {
                        infoAdicional = `<div class="font-semibold text-gray-700">Altura:</div>
                                        <div class="text-[#296885]">${perfil.altura_mm} mm</div>`;
                    } else if (perfil.tipo_secao === 'RHS') {
                         infoAdicional = `<div class="font-semibold text-gray-700">Dimensões:</div>
                                        <div class="text-[#296885]">${perfil.dimensoes_mm} mm</div>`;
                    } else if (perfil.tipo_secao === 'CHS') {
                         infoAdicional = `<div class="font-semibold text-gray-700">Diâmetro:</div>
                                        <div class="text-[#296885]">${perfil.diametro_mm} mm</div>`;
                    }
                    const card = `
                        <div class="bg-white rounded-lg p-6 shadow-sm border border-[#88CDD5]">
                            <h3 class="text-xl font-bold text-[#296885] mb-2">${perfil.nome}</h3>
                            <div class="grid grid-cols-2 gap-x-4 gap-y-2 text-sm text-[#3788A8]">
                                <div class="font-semibold text-gray-700">Tipo de Seção:</div>
                                <div class="text-[#296885]">${perfil.tipo_secao}</div>
                                <div class="font-semibold text-gray-700">Peso:</div>
                                <div class="text-[#296885]">${perfil.peso_kg_m} kg/m</div>
                                ${infoAdicional}
                                <div class="font-semibold text-gray-700">Fabricante:</div>
                                <div class="text-[#296885]">${perfil.fabricante}</div>
                                <div class="font-semibold text-gray-700">Custo Estimado:</div>
                                <div class="text-[#296885]">R$ ${perfil.custo_estimado.toFixed(2)} /m</div>
                                <div class="font-semibold text-gray-700">Inércia Ix:</div>
                                <div class="text-[#296885]">${perfil.inercia_x_cm4} $cm^4$</div>
                            </div>
                        </div>
                    `;
                    listaPerfis.innerHTML += card;
                });
            } else {
                listaPerfis.innerHTML = `<div class="bg-[#F5F8F7] border border-[#ED8168] text-[#ED8168] px-4 py-3 rounded-md text-center">
                    <p>Nenhum perfil encontrado para os parâmetros informados. Tente ajustar os valores.</p>
                </div>`;
            }
        }
    </script>
</body>
</html>
